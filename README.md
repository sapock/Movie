# Movie 예매

본 예제는 MSA/DDD/Event Storming/EDA 를 포괄하는 분석/설계/구현/운영 전단계를 커버하도록 구성한 예제입니다. 이는 클라우드 네이티브 애플리케이션의 개발에 요구되는 체크포인트들을 통과하기 위한 예시 답안을 포함합니다.



## 서비스 시나리오
### 영화관 관리자
1. 관리자가 해당 영화관에 상영 중인 영화 정보를 등록한다.(제목,줄거리,평균 평점)
3. 관리자가 등록된 영화 정보를 삭제한다.
4. 관리자가 영화의 상영 정보를 등록한다
5. 관리자가 상영 정보(상영 시간)을 수정한다. 상영 시간 정보가 바뀌면 고객에게 알려준다.

### 고객
1. 고객이 영화를 예매한다 - 잔여 좌석이 있는 경우만 예매 가능
4. 고객이 영화 예매 내역을 결제한다
5. 고객은 영화 예매 내역을 취소할 수 있다 - 영화 시작 전에만 취소 가능하며, 취소가 완료되면 결제도 취소 처리된다
7. 고객이 예매 내역 정보를 조회한다.
8. 고객은 예매한 영화 관람 이후 영화 평점과 후기를 등록할 수 있다.
9. 고객은 영화 평점을 조회할 수 있다.
10. 고객은 본인이 등록한 영화 평점을 삭제할 수 있다.

### 결제시스템
1. 결제요청이 들어오면 결제 승인한다.
2. 결제취소 요청이 들어오면 결제 취소한다.


### 비기능적 요구사항
1. 예약이 완료된 건은 즉시 결제 처리(승인) 되어야 한다 (Sync 호출)

### 장애격리
1. 결제시스템이 비정상 상태여도, 예약 취소는 가능하다.
2. 평점 관리 시스템 Circuit  breaker, fallback 

### 성능
1. 고객은 본인의 예매 내역을 확인할 수 있어야 한다 (CQRS)
2. 고객은 영화의 평점 정보를 확인할 수 있어야 한다 (CQRS)



## 체크포인트

## 분석/설계

![image](https://user-images.githubusercontent.com/49747084/209963026-96c742a1-2a77-45a2-994d-388f366345d5.png)


## 구현
